<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Common/GraphFormatters/SunBurstGraphFormatter/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Common/GraphFormatters/SunBurstGraphFormatter/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * function getSunburstData
 * @param {*} graphDataArray
 * @param {*} uniformSize
 * @param {*} rootWordWrap
 * @param {*} leafWordWrap
 * @returns sunburstData
 */
export function getSunburstData(
  graphDataArray,
  uniformSize = false,
  rootWordWrap = false,
  leafWordWrap = false,
) {
  const sunburstObject = [];
  for (let i = 0; i &lt; graphDataArray.length; i++) {
    // define root if it does not exist already
    const rootId = graphDataArray[i].root;
    const rootLabel = rootId.replace("_", " ").replace("-", " ");
    const rootLabelWrapped = rootLabel
      .replace(" - ", "&lt;br>")
      .replace(", ", ",&lt;br>")
      .replace(" ", "&lt;br>");
    sunburstObject[rootId] = sunburstObject[rootId] || {
      id: rootId,
      label: rootWordWrap ? rootLabelWrapped : rootLabel,
      parent: "",
      value: 0,
      hovertext: `${rootLabel}`,
    };

    // define leaf with its value noted in hovertext and also label if size does not indicate value
    const leafId = `${rootId} --- ${graphDataArray[i].leaf}`;
    let leafLabel = graphDataArray[i].leaf
      .replace("_", " ");
    if (uniformSize) {
      leafLabel = `${leafLabel} - ${graphDataArray[i].count}`;
    }
    const leafLabelWrapped = leafLabel
      .replace(" - ", "&lt;br>")
      .replace(", ", ",&lt;br>")
      .replace(" ", "&lt;br>");
    const leafValue = graphDataArray[i].count;
    sunburstObject[leafId] = sunburstObject[leafId] || {
      id: leafId,
      label: leafWordWrap ? leafLabelWrapped : leafLabel,
      parent: rootId,
      value: 0,
      hovertext: `${rootLabel} :: ${leafLabel}&lt;br>${leafValue}`,
    };

    // define dummy leaf with intended leaf as its parent/value to allow expansion of intended leaf
    const dummyId = `${leafId} --- dummy`;
    sunburstObject[dummyId] = sunburstObject[dummyId] || {
      id: dummyId,
      label: "",
      parent: leafId,
      value: leafValue,
      hovertext: "",
    };
  }
  const sunburstObjectValues = Object.values(sunburstObject);
  const sunburstLists = {};
  Object.keys(sunburstObjectValues[0]).forEach((k) => {
    sunburstLists[k] = sunburstObjectValues.map((o) => o[k]);
  });

  const sunburstData = [
    {
      type: "sunburst",
      ids: sunburstLists.id,
      labels: sunburstLists.label,
      parents: sunburstLists.parent,
      hovertext: sunburstLists.hovertext,
      hoverinfo: "text",
      maxdepth: 2,
      sort: false,
      rotation: 90,
      insidetextorientation: "radial",
      textfont: { size: 10 },
      marker: { line: { width: 1 } },
    },
  ];
  if (!uniformSize) {
    sunburstData[0].values = sunburstLists.value;
  }
  return sunburstData;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#BarGraph">BarGraph</a></li><li><a href="global.html#ButtonComponent">ButtonComponent</a></li><li><a href="global.html#DashBoard">DashBoard</a></li><li><a href="global.html#DataTable">DataTable</a></li><li><a href="global.html#DateFormatter">DateFormatter</a></li><li><a href="global.html#DropDown">DropDown</a></li><li><a href="global.html#DynamicPage">DynamicPage</a></li><li><a href="global.html#KPICards">KPICards</a></li><li><a href="global.html#LogIn">LogIn</a></li><li><a href="global.html#Page1">Page1</a></li><li><a href="global.html#Page2">Page2</a></li><li><a href="global.html#Page3">Page3</a></li><li><a href="global.html#Page4">Page4</a></li><li><a href="global.html#PieChart">PieChart</a></li><li><a href="global.html#ProtectedRoute">ProtectedRoute</a></li><li><a href="global.html#SpinnerComponent">SpinnerComponent</a></li><li><a href="global.html#SunBurstGraph">SunBurstGraph</a></li><li><a href="global.html#UnProtectedRoute">UnProtectedRoute</a></li><li><a href="global.html#getBarData">getBarData</a></li><li><a href="global.html#getSunburstData">getSunburstData</a></li><li><a href="global.html#graphWidthCalcuator">graphWidthCalcuator</a></li><li><a href="global.html#root">root</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Jun 23 2023 17:39:03 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
